{% extends "base.html" %}

{% block content %}

<div class="row">
    <div class="col">
        <h2>Welcome to PyShop</h2>
        <p>This is a Django project example. Shop includes products and offers. Each offer can include multiple products. Product is described with: title, price, stock, image_url. Offer is described with code and discount.</p>
        <p>User can login and create new product. Registration is currently not possible. He can also modify or delete existing products, but only if they have been created by him. Application also has REST API which is accessible with tokens. Tokens can be generated by logging in.</p>
    </div>
</div>

<div class="row">
    <div class="col-md-5 m-md-2 border">

        <h3>Latest products</h3>
        <table class="table">
          <thead>
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Price</th>
                <th scope="col">Actions</th>
            </tr>
          </thead>
            <tbody>
            {% for product in products %}
                <tr>
                    <td>{{ product.name }}</td>
                    <td>{{ product.price }} (Stock: {{ product.stock }})</td>
                    <td><a href="{% url 'post-detail' product.id %}" class="btn btn-primary">View details</a></td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="col-md-5 m-md-2 border">
        <h3>Latest offers</h3>
        <table class="table">
          <thead>
            <tr>
                <th scope="col">Code</th>
                <th scope="col">Discount</th>
                <th scope="col">Actions</th>
            </tr>
          </thead>
            <tbody>
            {% for offer in offers %}
                <tr>
                    <td>{{ offer.code }}</td>
                    <td>{{ offer.discount }}</td>
                    <td><a href="{% url 'offer-detail' offer.id %}" class="btn btn-primary">View details</a></td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock%}